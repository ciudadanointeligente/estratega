<div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <h2>Activities</h2>
  </div>
</div>
<div class="row">
  <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
    <div class="well">
      <h3><%= @project.activities.count.presence || "0" %> Activities</h3>
      <ul class="fa-ul">
        <li class="successful"><i class="fa-li fa fa-check-circle"></i><%= @successful_activities.presence %> successful activities</li>
        <li class="neutral"><i class="fa-li fa fa-minus-circle"></i><%= @neutral_activities.presence %> neutral activities</li>
        <li class="failed"><i class="fa-li fa fa-times-circle"></i><%= @failed_activities.presence %> failed activities</li>
      </ul>
    </div>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
    <div class="well text-center">
      <h3>Completed activities rate</h3>
      <div class="c100 p<%= @rate_completed_activities %> big">
          <span><%= @rate_completed_activities %>%</span>
          <div class="slice">
              <div class="bar"></div>
              <div class="fill"></div>
          </div>
        </div>
        <div class="clearfix"></div>
    </div>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
    <div class="well text-center">
      <h3>Success rate</h3>
      <div class="c100 p<%= @rate_success_activities %> big">
          <span><%= @rate_success_activities %>%</span>
          <div class="slice">
              <div class="bar"></div>
              <div class="fill"></div>
          </div>
        </div>
        <div class="clearfix"></div>
    </div>
  </div>
</div>
<div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <div class="well">
      <h3>Estado actividades últimos meses</h3>
      <div class="ct-chart ct-perfect-fourth"></div>

      <script>
        function draw_graph() {
          var chart = new Chartist.Line('.ct-chart', {
            labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun','Jul', 'Ago', 'Sept', 'Oct', 'Nov', 'Dic'],
            series: [
              [1, 5, 2, 5, 4, 3, 1, 5, 2, 5, 4, 3],
              [2, 3, 4, 8, 1, 2, 2, 3, 4, 8, 1, 2],
              [5, 4, 3, 2, 1, 2, 5, 4, 3, 2, 1, 1]
            ]
          }, {
            low: 0,
            showArea: true,
            showPoint: true,
            height: '300px',
            fullWidth: true
          });

          chart.on('draw', function(data) {
            if(data.type === 'line' || data.type === 'area') {
              data.element.animate({
                d: {
                  begin: 2000 * data.index,
                  dur: 2000,
                  from: data.path.clone().scale(1, 0).translate(0, data.chartRect.height()).stringify(),
                  to: data.path.clone().stringify(),
                  easing: Chartist.Svg.Easing.easeOutQuint
                }
              });
            }
          });
        }
      </script>

    </div>
  </div>
</div>
<div class="row">
  <div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
    <div class="well">
      <h3>Upcoming activities</h3>
      <p><a href="#">See all activities</a></p>
      <table class="table">
        <% @upcoming_activities.first(10).each do |ac| %>
        <tr>
          <th>Date</th>
          <th>Activity</th>
        </tr>
        <tr>
          <td><%= ac.scheduling %></td>
          <td><%= ac.title %></td>
        </tr>
        <% end %>
      </table>
    </div>
  </div>
  <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
    <div class="alert alert-danger">
      <table class="indicator">
        <tr>
          <td><%= @overdue_activities %></td>
          <td>Overdue activities</td>
        </tr>
      </table>
    </div>
    <div class="alert alert-warning">
      <table class="indicator">
        <tr>
          <td><%= @unfinished_activities %></td>
          <td>Unfinished activities</td>
        </tr>
      </table>
    </div>
  </div>
</div>
<hr>
<div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <h2>Interim Outcomes</h2>
  </div>
</div>
<div class="row">
  <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
    <div class="well">
      <h3><%= @outcomes_size.presence %> Interim Outcomes</h3>
      <ul class="fa-ul">
        <li class="neutral"><i class="fa-li fa fa-minus-circle"></i><%= @outcomes_without_activities.presence %> outcomes without activities</li>
        <li class="neutral"><i class="fa-li fa fa-minus-circle"></i><%= @outcomes_without_upcoming_activities.presence %> outcomes without upcoming activities</li>
        <li class="failed"><i class="fa-li fa fa-times-circle"></i><%= @outcomes_with_overdue_activities.presence %> outcomes with overdue activities</li>
      </ul>
    </div>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
    <div class="well text-center">
      <h3>Porcentaje Interim Outcomes logrados</h3>
      <div class="c100 p30 big">
          <span>30%</span>
          <div class="slice">
              <div class="bar"></div>
              <div class="fill"></div>
          </div>
        </div>
        <div class="clearfix"></div>
    </div>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
    <div class="well text-center">
      <h3>Porcentaje asignación de actividades predefinidas</h3>
      <div class="c100 p90 big">
          <span>90%</span>
          <div class="slice">
              <div class="bar"></div>
              <div class="fill"></div>
          </div>
        </div>
        <div class="clearfix"></div>
    </div>
  </div>
</div>
<hr>
<div class="row">
  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
    <h2>Objetives</h2>
  </div>
</div>
<div class="row">
  <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
    <div class="well">
      <h3><%= @objectives.count.presence || "0" %> Objectives</h3>
      <ul class="fa-ul">
        <li class="neutral"><i class="fa-li fa fa-minus-circle"></i><%= @objectives_without_outcomes.presence %> Objectives without interim outcomes</li>
        <li class="failed"><i class="fa-li fa fa-times-circle"></i><%= @objectives_with_failed_activities_diff.presence %> Objectives with failed activities</li>
      </ul>
    </div>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
    <div class="well text-center">
      <h3>Porcentaje avance objetivos priorizados</h3>
      <div class="c100 p40 big">
          <span>40%</span>
          <div class="slice">
              <div class="bar"></div>
              <div class="fill"></div>
          </div>
        </div>
        <div class="clearfix"></div>
    </div>
  </div>
  <div class="col-xs-12 col-sm-6 col-md-4 col-lg-4">
    <div class="well text-center">
      <h3>Porcentaje avance total de objetivos</h3>
      <div class="c100 p50 big">
          <span>50%</span>
          <div class="slice">
              <div class="bar"></div>
              <div class="fill"></div>
          </div>
        </div>
        <div class="clearfix"></div>
    </div>
  </div>
</div>
