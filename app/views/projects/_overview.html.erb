<div class="">
  <div class="">
    <div class="project-hero02">
      <h2><%= @project.title %></h2>
      <p><%= @project.description %></p>
    </div>
    <div class="project-content">
        <div>
          <!-- real problem -->
          <% if !@real_problem %>
            <p><%= t('.empty') %></p>
          <% else %>
            <div class="box">
              <button class="btn btn-warning pull-right" onclick="window.print()"><i class="fa fa-print"></i> Imprimir Resumen</button>
              <div class="label label-default">Problema Real</div>
              <h3><%= @real_problem.title.presence || t('.empty') %></h3>
              <p><%= @real_problem.description.presence || t('.empty') %></p>
              <ul>
                <li>
                  Área de focalización: <%= @real_problem.focus_area.presence || t('.empty') %>
                </li>
                <li>
                  Meta: <%= @real_problem.goal.presence || t('.empty') %>
                </li>
              </ul>
              </br>
            </div>
            <!-- policy problems -->
            <% if !@policy_problems.blank? %>
            <div class="box">
              <% @policy_problems.each_with_index do |policy, i| %>
                <div class="label label-default">Problema Político <%= i+1 %></div>
              <% if @policy_problems.nil? %>
                <p><%= t('.uncreated') %></p>
              <% elsif @policy_problems.count < 1 %>
                <p><%= t('.empty') %></p>
              <% else %>
                  <ol type="1">
                    <h4><li><%= policy.title %></li></h4>
                    <!-- solutions -->
                    <div>
                      <ul style="list-style-type:disc">
                        <% if @solutions.nil? %>
                          <p><%= t('.uncreated') %></p>
                        <% elsif @solutions.count < 1 %>
                          <b>Soluciones</b>
                          <p><%= t('.empty') %></p>
                        <% else %>
                          <% policy.solutions.each_with_index do |solution, i| %>
                            <li><span class='blue'>sol<%= i+1 %>. </span><%= solution.title.presence || t('.empty') %></li>
                          <% end %>
                      </ul>
                      <% end %>
                    </div>
                  </ol>
                  <!-- end solutions -->
                  </br>
                <% end %>
              <% end %>
            </div>
            <% end %>
            <!-- end policy problems -->
          <% end %>
          <!-- end real problem -->
      </div>

      <% @objectives.each_with_index do |objective, i| %>
        <div class="box">
          <!-- objetives -->
          <% if @objectives.nil? %>
            <p></p>
          <% elsif @objectives.count < 1 %>
            <p></p>
          <% else %>
            <div class="label label-default">Objetivo <%= i+1 %></div>
              <h3><%= objective.title.presence || t('.empty') %></h3>
              <p><%= objective.description.presence %></p>
              <ul style="list-style-type:disc">
                <li>Tipo: </b><%= objective.objective_type.presence || t('.empty') %></li>
              </ul>
              <!-- barriers -->
              <% if objective.barriers.nil? %>
                <p></p>
              <% else %>
                <% objective.barriers.each_with_index do |barrier, cnt_barrier| %>
                <div class="separator"></div>
                <h4>Barreras <%= cnt_barrier + 1 %>: </h4>
                  <ul style="list-style-type:disc">
                    <li><%= barrier %></li>
                  </ul>
                <% end %>
              <% end %>
              <!-- end barriers -->
              <!-- enabling factors -->
              <% if objective.enabling_factors.nil? %>
                <p></p>
              <% else %>
                <% objective.enabling_factors.each_with_index do |efactor, cnt_factor| %>
                  <div class="separator"></div>
                  <h4>Factores habilitantes <%= cnt_factor + 1 %>:</h4>
                  <ul style="list-style-type:disc">
                    <li><%= efactor %></li>
                  </ul>
                <% end %>
              <% end %>
              <!-- end enabling factors -->
              <!-- outcomes -->
              <div class="outcome">
                <% if objective.outcomes.nil? %>
                  <p></p>
                <% elsif objective.outcomes.count < 1 %>
                  <p></p>
                <% else %>
                  <div class="separator"></div>
                  <h4><%= t('.interim_outcomes')%></h4>
                    <% objective.outcomes.each_with_index do |outcome, i| %>
                      <span class='blue'><%= t('.interim_outcome')%> <%= i+1 %>. </span><b><%= outcome.description.presence || t('.empty') %></b>
                    <ul style="list-style-type:disc">
                      <li><%= t('.type_interim_outcomes')%>: <%= outcome.outcome_type_id %></li>
                      <!-- <li>Actor type: <%= outcome.actor_type_id %></li> -->
                      <div class="asks">
                        <% if outcome.asks.nil? %>
                          <p></p>
                        <% elsif outcome.asks.count < 1 %>
                          <p></p>
                        <% else %>
                          <h4>Peticiones</h4>
                          <% outcome.asks.each_with_index do |ask, i| %>
                            <span class='blue'>Petición <%= i+1 %>. </span><b><%= ask.description.presence || t('.empty') %></b>
                            <ul style="list-style-type:disc">
                              <% ask.messages.each do |m| %>
                              <li>
                                <%= m.description %>
                                <p><%= t('.actors') %></p>
                                <ul>
                                  <li><%= m.actor ? m.actor.name : ""%></li>
                                </ul>
                                <li>Objetivos esperados: <%= get_objective_related ask.objective_id %></li>
                              </li>
                              <% end %>
                            </ul>
                          <% end %>
                        <% end %>
                      </div>
                    </ul>
                  <% end %>
                <% end %>
              </div>
              <!-- end outcomes -->
              <!-- actors -->
              <div>
                <% if objective.actors.nil? %>
                  <p></p>
                <% elsif objective.actors.count < 1 %>
                  <p></p>
                <% else %>
                  <div class="separator"></div>
                  <h4>Actores</h4>
                    <% objective.actors.each_with_index do |actor, i| %>
                      <p><span class="blue">Actor </span><b><%= i+1 %>. <%= actor.name %></b></p>
                    <p><%= actor.description.presence || t('.empty') %></p>
                    <ul style="list-style-type:disc">
                      <li><b>Tipo de Actor: </b><%= actor.actor_type.presence || t('.empty') %></li>
                      <li><b>Apoyo: </b><%= get_support actor.support.presence || t('.empty') %></li>
                      <li><b>Influencia: </b><%= get_influence actor.influence.presence || t('.empty') %></li>
                    </ul>
                  <% end %>
                <% end %>
              </div>
              <!-- end actors -->
              <!-- activity -->
              <div>
                <% if objective.project.activities.nil? %>
                  <p></p>
                <% elsif objective.project.activities.count < 1 %>
                  <p></p>
                <% else %>
                  <div class="separator"></div>
                  <h4>Actividades</h4>
                  <% objective.project.activities.each_with_index do |activity, i| %>
                    <span class='blue'>Actividad <%= i+1 %>. </span><b><%= activity.title.presence || t('.empty') %></b>
                    <p><%= activity.description.presence || t('.empty') %></p>
                    <% if !activity.indicator.blank? %>
                    <ul>
                      <% if !activity.indicator.owner_name.blank? %><li><b>Encargado:</b> <%= activity.indicator.owner_name %></li><% end %>
                      <% if !activity.indicator.owner_role.blank? %><li><b>Puesto del encargado:</b> <%= activity.indicator.owner_role %></li><% end %>
                      <% if !activity.indicator.expected_results.blank? %><li><b>Resultados esperados:</b> <%= activity.indicator.expected_results %></li><% end %>
                      <% if !activity.indicator.obtained_results.blank? %><li><b>Resultados obtenidos:</b> <%= activity.indicator.obtained_results %></li><% end %>
                      <% if !activity.indicator.settings.blank? %><li><b>Ajustes:</b> <%= activity.indicator.settings %></li><% end %>
                      <% if !activity.indicator.percentage.blank? %><li><b>Porcentaje:</b> <%= activity.indicator.percentage %> %</li><% end %>
                    </ul>
                    <% end %>
                  <% end %>
                <% end %>
              </div>
              <!-- end activity -->
              <!-- ask -->
              <!--<div class="ask">-->
              <!--  <% if objective.asks.nil? %>-->
              <!--    <p></p>-->
              <!--  <% elsif objective.asks.count < 1 %>-->
              <!--    <p></p>-->
              <!--  <% else %>-->
              <!--    <div class="separator"></div>-->
              <!--    <h4>Peticiones</h4>-->
              <!--    <% objective.asks.each_with_index do |ask, i| %>-->
              <!--      <span class='blue'>Petición <%= i+1 %>. </span><b><%= ask.description.presence || t('.empty') %></b>-->
              <!--      <ul style="list-style-type:disc">-->
              <!--        <% ask.messages.each do |m| %>-->
              <!--        <li>-->
              <!--          <%= m.description %>-->
              <!--          <p><%= t('.actors') %></p>-->
              <!--          <ul>-->
              <!--            <li><%= m.actor ? m.actor.name : ""%></li>-->
              <!--          </ul>-->
              <!--          <li>Objetivos esperados: <%= get_objective_related ask.objective_id %></li>-->
              <!--        </li>-->
              <!--        <% end %>-->
              <!--      </ul>-->
              <!--    <% end %>-->
              <!--  <% end %>-->
              <!--</div>-->
              <!-- end ask -->
          <% end %>
        </div>
          <% end %>
          <!-- end objectives -->

    </div>
  </div>
</div>
